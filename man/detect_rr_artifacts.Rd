% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/preprocessing.R
\name{detect_rr_artifacts}
\alias{detect_rr_artifacts}
\title{Detect RR Interval Artifacts Using Moving Average}
\usage{
detect_rr_artifacts(
  rr_intervals,
  window_size = 7,
  threshold = 0.2,
  centered_window = FALSE
)
}
\arguments{
\item{rr_intervals}{Numeric vector of RR intervals in milliseconds}

\item{window_size}{Size of the moving window for artifact detection.
Default is 7 intervals}

\item{threshold}{Threshold for artifact detection as a proportion.
Default is 0.2 (20\% deviation from moving average)}

\item{centered_window}{Logical indicating whether the moving window should
be centered around each point. Default is FALSE (backward-looking window)}
}
\value{
A logical vector of the same length as \code{rr_intervals}, where \code{TRUE}
indicates the RR interval is considered valid (not an artifact)
}
\description{
Identifies artifacts in RR intervals by comparing each interval to a moving
average of surrounding intervals. This implements a robust artifact detection
algorithm commonly used in HRV analysis.
}
\details{
The algorithm works by:
\enumerate{
\item Computing a moving average of RR intervals within a sliding window
\item Comparing each interval to the moving average
\item Flagging intervals that deviate by more than the threshold proportion
\item Using a centered or backward-looking window based on \code{centered_window}
}

This is a key preprocessing step for reliable HRV analysis, as artifacts
can significantly affect calculated metrics.
}
\examples{
\dontrun{
rr_data <- c(800, 850, 400, 900, 820, 890, 870)  # 400 is likely an artifact
valid_mask <- detect_rr_artifacts(rr_data, window_size = 5, threshold = 0.2)
clean_rr <- rr_data[valid_mask]
}

}
